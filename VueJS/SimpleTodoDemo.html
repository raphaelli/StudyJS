<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <!-- 引入Vue.js框架 -->
    <script src="../static/Vue/vue.js"></script>
    <!-- 引入Bootstrap样式用于美化控件，顺带练习Bootstrap -->
    <link rel="stylesheet" href="../static/bootstrap/css/bootstrap.min.css">
    <title>SimpleTodoDemo</title>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-md-8">
          <div class="panel panel-info">
            <div class="panel-heading">简单的TodoDemo</div>
            <div class="panel-body">

              <div id="app">
                <!-- 绑定newTodo，添加键盘回车后的addTodo事件 -->
                <input v-model="newTodo" v-on:keyup.enter="addTodo" class="form-control">
                <ul class="list-group">
                  <!-- 与开始实例中一样的遍历 -->
                  <li v-for="todo in todos" class="list-group-item">
                    <span>{{todo.text}}</span>
                    <!-- 删除事件 -->
                    <button v-on:click="removeTodo($index)" class="btn btn-warning">删除</button>
                  </li>
                </ul>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>


    <script type="text/javascript">
      new Vue({
        el:'#app',
        data:{
          newTodo:'',
          todos:[
            {text:'Add some todos'}
          ]
        },
        methods:{
          // 添加事件，将intup中的内内容以双向绑定的数据源添加到列表的数据源中
          addTodo:function() {
            var text = this.newTodo.trim()
            if (text) {
              this.todos.push({text:text})
              this.newTodo=''
            }
          },
          // 删除事件，从todos的列表中删除键值（通过index比较）
          // js脚本解释 http://www.w3school.com.cn/jsref/jsref_splice.asp
          removeTodo:function(index) {
            this.todos.splice(index,1)
          }
        }
      })
    </script>
  </body>
</html>
